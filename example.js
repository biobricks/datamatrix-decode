#!/usr/bin/env node

var DatamatrixDecoder = require('./index.js');


// Encodes the ASCII string "Wikipedia"
var bits = [
    [1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],
    [1,0,1,1,0,0,1,0,1,0,1,0,1,0,1,1],
    [1,1,0,1,0,1,0,1,0,1,0,1,1,1,0,0],
    [1,0,1,0,1,1,0,1,0,0,0,0,0,1,1,1],
    [1,1,0,1,0,0,1,0,1,0,0,1,0,0,0,0],
    [1,0,1,0,0,1,1,0,1,1,0,1,1,0,1,1],
    [1,1,1,1,0,1,1,1,0,0,0,0,0,0,1,0],
    [1,0,0,1,0,0,1,1,1,0,0,0,1,0,0,1],
    [1,0,1,0,0,0,1,1,1,1,1,0,1,1,0,0],
    [1,0,1,0,0,1,1,0,1,0,0,1,0,0,1,1],
    [1,1,0,0,1,1,0,0,1,0,1,1,0,0,1,0],
    [1,0,1,0,0,0,1,1,1,0,1,0,0,1,1,1],
    [1,0,0,1,0,1,0,0,1,1,1,1,0,0,1,0],
    [1,1,0,0,0,0,1,0,0,1,1,0,1,1,0,1],
    [1,1,1,1,1,1,0,1,0,1,0,0,0,0,1,0],
    [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

// Encodes the numeric value 1901371821
// using digit pairs
var digitBits = [   
    [1,0,1,0,1,0,1,0,1,0,1,0],
    [1,1,0,1,1,1,0,1,0,1,0,1],
    [1,0,0,0,1,0,1,0,0,0,1,0],
    [1,0,1,1,0,1,0,1,1,1,0,1],
    [1,0,1,1,1,1,1,1,1,0,0,0],
    [1,1,0,0,0,1,0,1,1,1,1,1],
    [1,0,0,0,0,1,0,1,0,1,0,0],
    [1,0,0,0,0,1,0,0,0,0,0,1],
    [1,0,1,1,1,0,1,0,0,0,1,0],
    [1,1,0,1,1,0,1,1,1,1,0,1],
    [1,1,0,0,1,0,0,1,1,0,1,0],
    [1,1,1,1,1,1,1,1,1,1,1,1]
];


var str;

str = DatamatrixDecoder(bits);
console.log("Ascii decoded:", str);

str = DatamatrixDecoder(digitBits);
console.log("Digit pairs decoded:", str);
